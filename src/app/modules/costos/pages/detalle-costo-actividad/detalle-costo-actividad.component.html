<ion-header>
  <ion-toolbar color="testapp-tres">
    <ion-buttons slot="start">
      <ion-back-button text="Atrás"></ion-back-button>
    </ion-buttons>
    <ion-title>Detalle costos</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row>
    <ion-col> </ion-col>
  </ion-row>
  <ion-row>
    <ion-col>
      <ion-title *ngIf="tipoCosto === 'actividad'">
        Actividad : {{ title }}
      </ion-title>
      <ion-title *ngIf="tipoCosto === 'administrativo'">
        Catergoria : {{ title }}
      </ion-title>
    </ion-col>
  </ion-row>

  <ion-card>
    <ion-list>
      <ion-item *ngFor="let item of listaHistorial">
        <ion-label>
          <ion-row>
            <ion-col size="2">
              <ion-text> Finca : </ion-text>
            </ion-col>
            <ion-col size="10">
              <ion-text color="testapp-dos" class="ion-text-color">
                {{ item.farm_name }}
              </ion-text>
            </ion-col>
          </ion-row>

          <!-- campos actividad -->
          <ion-row *ngIf="tipoCosto === 'actividad'">
            <ion-col size="2">
              <ion-text> Lote : </ion-text>
            </ion-col>
            <ion-col size="10">
              <ion-text color="testapp-dos" class="ion-text-color">
                {{ item.lot_name }}
              </ion-text>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="2">
              <ion-text> Fecha : </ion-text>
            </ion-col>
            <ion-col size="3">
              <ion-text color="testapp-dos" class="ion-text-color">
                {{ item.created_at | date: "d/MMM/yyyy" }}
              </ion-text>
            </ion-col>
            <ion-col size="1">
              <ion-text> </ion-text>
            </ion-col>
            <ion-col size="3">
              <ion-text> Cantidad : </ion-text>
              <p></p>
            </ion-col>
            <ion-col size="3">
              <ion-text color="testapp-dos" class="ion-text-color">
                {{ item.amount }}
              </ion-text>
            </ion-col>
          </ion-row>

          <!-- campos actividad -->
          <ion-row *ngIf="tipoCosto === 'actividad'">
            <ion-col size="2">
              <ion-text> Etapa : </ion-text>
              <p></p>
            </ion-col>
            <ion-col size="3">
              <ion-text color="testapp-dos" class="ion-text-color">
                {{ item.stage_name }}
              </ion-text>
            </ion-col>
            <ion-col size="1">
              <ion-text> </ion-text>
              <p></p>
            </ion-col>
            <ion-col size="3">
              <ion-text> Tipo labor : </ion-text>
              <p></p>
            </ion-col>
            <ion-col size="3">
              <ion-text color="testapp-dos" class="ion-text-color">
                {{ item.type_work_name }}
              </ion-text>
            </ion-col>
          </ion-row>

          <!-- campos administrativos -->
          <ion-row *ngIf="tipoCosto === 'administrativo'">
            <ion-col size="2">
              <ion-text> Etapa : </ion-text>
              <p></p>
            </ion-col>
            <ion-col size="3">
              <ion-text color="testapp-dos" class="ion-text-color">
                {{ item.stage_description }}
              </ion-text>
            </ion-col>
            <ion-col size="1">
              <ion-text> </ion-text>
              <p></p>
            </ion-col>
          </ion-row>

          <ion-row *ngIf="tipoCosto === 'administrativo'">
            <ion-col size="3">
              <ion-text> Categoría : </ion-text>
              <p></p>
            </ion-col>
            <ion-col size="9">
              <ion-text color="testapp-dos" class="ion-text-color">
                {{ item.category_description }}
              </ion-text>
            </ion-col>
          </ion-row>

          <ion-row *ngIf="tipoCosto === 'administrativo'">
            <ion-col size="3">
              <ion-text> Descripción : </ion-text>
              <p></p>
            </ion-col>
            <ion-col size="9">
              <ion-text color="testapp-dos" class="ion-text-color">
                {{ item.description }}
              </ion-text>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="3">
              <ion-text> Costo unit : </ion-text>
              <p></p>
            </ion-col>
            <ion-col size="3">
              <ion-text color="testapp-dos" class="ion-text-color">
                {{ item.unit_cost | currency }}
              </ion-text>
            </ion-col>
            <ion-col size="3">
              <ion-text> Costo : </ion-text>
              <p></p>
            </ion-col>
            <ion-col size="3">
              <ion-text color="testapp-dos" class="ion-text-color">
                {{ item.unit_cost * item.amount | currency }}
              </ion-text>
            </ion-col>
          </ion-row>
        </ion-label>
      </ion-item>
    </ion-list>

    <ion-card-content *ngIf="listaHistorial.length < 1">
      No tiene registros
    </ion-card-content>
  </ion-card>
</ion-content>
